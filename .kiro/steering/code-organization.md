# 代码组织规范

## 文件大小限制

- 单个文件最大 1000 行，推荐 300-600 行
- 超过限制必须拆分

## 拆分策略

**ViewModel**: 使用 partial class 按功能分离（Commands、Validation）或拆分为独立 ViewModel  
**Service**: 拆分为专门的 Service，使用组合模式  
**View**: 拆分为多个 UserControl

## 设计要求

实现功能前必须提供：

- 文件结构设计（新增/修改/删除文件 + 预估行数）
- 目录结构合理性检查
- 依赖关系说明

## 最佳实践

- 类职责单一，避免"上帝类"
- 方法不超过 50 行
- 命名空间与目录结构一致，不超过 4 层
- Partial class 仅用于同一类的不同关注点分离


# UI 设计规范

设计 UI 时必须使用 ASCII 字符绘制界面布局草稿

```text
┌─────────────────────────────────────────────┐
│  标题栏                          [X]        │
├─────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐    │
│  │ 按钮 1  │  │ 按钮 2  │  │ 按钮 3  │    │
│  └─────────┘  └─────────┘  └─────────┘    │
├─────────────────────────────────────────────┤
│  ┌───────────────┐  ┌───────────────────┐  │
│  │  左侧列表     │  │  右侧详情区域     │  │
│  │  - 项目 1     │  │                   │  │
│  │  - 项目 2     │  │  [输入框]         │  │
│  │  - 项目 3     │  │                   │  │
│  │               │  │  [下拉框]         │  │
│  └───────────────┘  └───────────────────┘  │
└─────────────────────────────────────────────┘
```
