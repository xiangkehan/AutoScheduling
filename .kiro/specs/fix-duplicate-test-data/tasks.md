# 实施计划

- [x] 1. 创建通用名称生成辅助方法





  - 在 `TestDataGenerator` 类中添加 `GenerateUniqueName()` 私有方法
  - 实现名称生成逻辑：优先使用预定义名称，用完后生成带编号的备用名称
  - 添加最大重试次数限制（1000次），避免无限循环
  - 确保生成的备用名称不与已使用的名称冲突
  - _需求: 1.1, 1.2, 1.3, 2.1, 2.2, 2.3, 2.4, 2.5_


- [x] 2. 改进技能数据生成方法




  - 修改 `GenerateSkills()` 方法，使用新的 `GenerateUniqueName()` 辅助方法
  - 移除现有的 `do-while` 循环逻辑
  - 确保技能名称唯一性
  - _需求: 1.1, 2.1_

- [x] 3. 改进人员数据生成方法





  - 修改 `GeneratePersonnel()` 方法，使用新的 `GenerateUniqueName()` 辅助方法
  - 移除现有的 `do-while` 循环逻辑
  - 确保人员名称唯一性
  - _需求: 1.2, 2.2_

- [x] 4. 改进哨位数据生成方法





  - 修改 `GeneratePositions()` 方法，使用新的 `GenerateUniqueName()` 辅助方法处理哨位名称
  - 使用 `GenerateUniqueName()` 辅助方法处理地点名称
  - 移除现有的 `do-while` 循环逻辑
  - 确保哨位名称和地点唯一性
  - _需求: 1.3, 2.3, 2.4_

- [x] 5. 改进节假日配置数据生成方法




  - 修改 `GenerateHolidayConfigs()` 方法
  - 添加名称唯一性检查，使用 `HashSet` 跟踪已使用的配置名称
  - 确保"自定义配置X"格式的名称不会重复
  - _需求: 1.4_





- [x] 6. 改进排班模板数据生成方法








  - 修改 `GenerateTemplates()` 方法
  - 添加名称唯一性检查，使用 `HashSet` 跟踪已使用的模板名称
  - 确保模板名称格式不会产生重复
  - _需求: 1.5_

- [x] 7. 改进手动指定数据生成方法


  - 修改 `GenerateManualAssignments()` 方法
  - 实现改进的重试策略：先尝试不同时段（最多12次），再尝试不同日期（最多5次）
  - 在达到重试上限后跳过该条记录
  - 记录跳过的记录数量
  - 如果跳过的记录数量超过请求数量的10%，在生成完成后记录警告信息
  - _需求: 3.1, 3.2, 3.3, 3.4_


- [x] 8. 增强错误处理和日志记录






  - 在 `GenerateUniqueName()` 方法中，当达到最大重试次数时抛出详细的异常信息
  - 在 `GenerateManualAssignments()` 方法中，记录跳过的记录信息
  - 确保所有异常信息包含足够的上下文信息（已尝试次数、已使用名称数量、请求总数量等）
  - _需求: 4.1, 4.2, 4.3, 4.4_

- [ ]* 9. 验证和测试
  - 运行测试数据生成器，生成小规模测试数据（5个技能、10个人员、8个哨位）
  - 验证所有名称唯一，无重复数据
  - 验证手动指定数据无重复组合
  - 尝试生成超过预定义名称数量的数据，验证备用名称生成机制
  - 验证生成的数据能够成功导入数据库，不违反唯一性约束
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 3.1, 3.4_
