# è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬è®¾è®¡æ–‡æ¡£æè¿°äº†æ’ç­åˆ›å»ºæµç¨‹æ­¥éª¤é¡ºåºè°ƒæ•´å’Œæ­¥éª¤3ï¼ˆé€‰æ‹©å‚ä¸äººå‘˜ï¼‰çš„é‡æ„æ–¹æ¡ˆã€‚é‡æ„çš„æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š
1. å°†æ­¥éª¤2å’Œæ­¥éª¤3çš„å†…å®¹äº’æ¢ï¼ˆæ­¥éª¤2æ”¹ä¸ºé€‰æ‹©å“¨ä½ï¼Œæ­¥éª¤3æ”¹ä¸ºé€‰æ‹©äººå‘˜ï¼‰
2. å®ç°åŸºäºå“¨ä½çš„äººå‘˜ç®¡ç†ç•Œé¢
3. è‡ªåŠ¨ä»å·²é€‰å“¨ä½æå–å¯ç”¨äººå‘˜
4. æ”¯æŒä¸´æ—¶æ€§å’Œæ°¸ä¹…æ€§çš„äººå‘˜è°ƒæ•´

## æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CreateSchedulingPage                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              SchedulingViewModel                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚     PositionPersonnelManager (æ–°å¢)              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - ç®¡ç†å“¨ä½ä¸äººå‘˜çš„ä¸´æ—¶å…³è”                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - è·Ÿè¸ªä¸´æ—¶æ€§æ›´æ”¹                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æä¾›ä¿å­˜ä¸ºæ°¸ä¹…çš„åŠŸèƒ½                          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  ä½¿ç”¨ç°æœ‰æœåŠ¡:                                          â”‚  â”‚
â”‚  â”‚  - IPersonnelService                                    â”‚  â”‚
â”‚  â”‚  - IPositionService                                     â”‚  â”‚
â”‚  â”‚  - DialogService                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ

```
æ­¥éª¤2: é€‰æ‹©å“¨ä½ï¼ˆåŸæ­¥éª¤3ï¼‰
    â”‚
    â”œâ”€> User é€‰æ‹©å“¨ä½
    â”‚
    â”œâ”€> SelectedPositions æ›´æ–°
    â”‚
    â†“
æ­¥éª¤3: é€‰æ‹©äººå‘˜ï¼ˆé‡æ„åï¼‰
    â”‚
    â”œâ”€> è‡ªåŠ¨æå–: ä» SelectedPositions[].AvailablePersonnelIds æå–
    â”‚
    â”œâ”€> å±•ç¤º: æŒ‰å“¨ä½åˆ†ç»„æ˜¾ç¤ºäººå‘˜
    â”‚
    â”œâ”€> ä¸´æ—¶è°ƒæ•´: PositionPersonnelManager è·Ÿè¸ªæ›´æ”¹
    â”‚
    â”œâ”€> ä¿å­˜ä¸ºæ°¸ä¹…: è°ƒç”¨ IPositionService.UpdateAsync
    â”‚
    â†“
æ­¥éª¤4: é…ç½®çº¦æŸ
```

## UIè®¾è®¡

### æ­¥éª¤2 - é€‰æ‹©å‚ä¸å“¨ä½ï¼ˆåŸæ­¥éª¤3ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 2: é€‰æ‹©å‚ä¸å“¨ä½                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ å¯ç”¨å“¨ä½                                    å·²é€‰å“¨ä½                     â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [>>]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚â”‚
â”‚ â”‚ â”‚ â˜ å¤§é—¨å²— (ä¸»å…¥å£)       â”‚  [<<]  â”‚ â˜‘ åé—¨å²— (åå‹¤å…¥å£)     â”‚         â”‚â”‚
â”‚ â”‚ â”‚ â˜ ç›‘æ§å®¤ (ä¸€æ¥¼)         â”‚        â”‚ â˜‘ å·¡é€»å²— (å›­åŒº)         â”‚         â”‚â”‚
â”‚ â”‚ â”‚ â˜ åœè½¦åœº (åœ°ä¸‹ä¸€å±‚)     â”‚        â”‚                         â”‚         â”‚â”‚
â”‚ â”‚ â”‚ ...                     â”‚        â”‚                         â”‚         â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ­¥éª¤3 - é€‰æ‹©å‚ä¸äººå‘˜ï¼ˆé‡æ„åï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 3: é€‰æ‹©å‚ä¸äººå‘˜                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ â„¹ æç¤º: å·²è‡ªåŠ¨ä»å·²é€‰å“¨ä½ä¸­æå–å¯ç”¨äººå‘˜ã€‚ä½ å¯ä»¥è¿›è¡Œä¸´æ—¶è°ƒæ•´æˆ–æ‰‹åŠ¨æ·»åŠ ã€‚  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“Š å‚ä¸äººå‘˜ç»Ÿè®¡                                                          â”‚â”‚
â”‚ â”‚ â”œâ”€ è‡ªåŠ¨æå–: 25äºº                                                        â”‚â”‚
â”‚ â”‚ â”œâ”€ æ‰‹åŠ¨æ·»åŠ : 3äºº                                                         â”‚â”‚
â”‚ â”‚ â””â”€ æ€»è®¡: 28äºº                                                            â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ” æŒ‰å“¨ä½æŸ¥çœ‹å¯ç”¨äººå‘˜                                                    â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚ â”‚ â”‚ â–¼ å“¨ä½: å¤§é—¨å²— (åœ°ç‚¹: ä¸»å…¥å£)                    å¯ç”¨äººå‘˜: 8äºº    â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ å¼ ä¸‰ (æŠ€èƒ½: å®‰ä¿, ç›‘æ§)                    [è‡ªåŠ¨æå–]      â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ æå›› (æŠ€èƒ½: å®‰ä¿)                          [è‡ªåŠ¨æå–]      â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ ç‹äº” (æŠ€èƒ½: å®‰ä¿, åº”æ€¥)                    [è‡ªåŠ¨æå–] ğŸ”—   â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ èµµå…­ (æŠ€èƒ½: å®‰ä¿)                          [ä¸´æ—¶æ·»åŠ ] â•   â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜ å­™ä¸ƒ (æŠ€èƒ½: ç›‘æ§)                          [ä¸´æ—¶ç§»é™¤] â–   â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚                                                                 â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ [+ ä¸ºæ­¤å“¨ä½æ·»åŠ äººå‘˜] [ğŸ’¾ ä¿å­˜ä¸ºæ°¸ä¹…] [â†» æ’¤é”€æ›´æ”¹]         â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ è¯´æ˜: æ·»åŠ çš„äººå‘˜åªå¯¹æ­¤å“¨ä½å¯ç”¨                              â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚ â”‚ â”‚ â–¼ å“¨ä½: åé—¨å²— (åœ°ç‚¹: åå‹¤å…¥å£)                  å¯ç”¨äººå‘˜: 6äºº    â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ å¼ ä¸‰ (æŠ€èƒ½: å®‰ä¿, ç›‘æ§)                    [è‡ªåŠ¨æå–] ğŸ”—   â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ å‘¨å…« (æŠ€èƒ½: å®‰ä¿)                          [è‡ªåŠ¨æå–]      â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ â˜‘ å´ä¹ (æŠ€èƒ½: å®‰ä¿, å·¡é€»)                    [è‡ªåŠ¨æå–]      â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚                                                                 â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â”‚ [+ æ·»åŠ äººå‘˜] [ğŸ’¾ ä¿å­˜ä¸ºæ°¸ä¹…] [â†» æ’¤é”€æ‰€æœ‰æ›´æ”¹]              â”‚   â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚ â”‚ â”‚ â–¶ å“¨ä½: ç›‘æ§å®¤ (åœ°ç‚¹: ä¸€æ¥¼)                      å¯ç”¨äººå‘˜: 4äºº    â”‚   â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ‘¥ æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜ï¼ˆä¸å±äºä»»ä½•å“¨ä½ï¼‰                                      â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚ â”‚ â”‚ â˜‘ éƒ‘å (æŠ€èƒ½: ç®¡ç†)                          [æ‰‹åŠ¨æ·»åŠ ] [âœ– ç§»é™¤] â”‚   â”‚â”‚
â”‚ â”‚ â”‚ â˜‘ é™ˆåä¸€ (æŠ€èƒ½: åå‹¤)                        [æ‰‹åŠ¨æ·»åŠ ] [âœ– ç§»é™¤] â”‚   â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚ â”‚                                                                           â”‚â”‚
â”‚ â”‚ [+ æ·»åŠ å‚ä¸äººå‘˜ï¼ˆå¯¹æ‰€æœ‰å“¨ä½å¯ç”¨ï¼‰]                                       â”‚â”‚
â”‚ â”‚ è¯´æ˜: è¿™äº›äººå‘˜å¯ä»¥è¢«åˆ†é…åˆ°ä»»ä½•å“¨ä½ï¼Œä¸å—å“¨ä½å¯ç”¨äººå‘˜åˆ—è¡¨é™åˆ¶            â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å›¾ä¾‹:
  â˜‘ = å·²é€‰ä¸­çš„äººå‘˜
  â˜ = æœªé€‰ä¸­çš„äººå‘˜
  ğŸ”— = è¢«å¤šä¸ªå“¨ä½å…±äº«çš„äººå‘˜
  â• = ä¸´æ—¶æ·»åŠ çš„äººå‘˜
  â– = ä¸´æ—¶ç§»é™¤çš„äººå‘˜
  â–¼ = å·²å±•å¼€çš„å“¨ä½
  â–¶ = å·²æŠ˜å çš„å“¨ä½
```

### ä¸ºå“¨ä½æ·»åŠ äººå‘˜å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸ºå“¨ä½æ·»åŠ äººå‘˜                                [âœ–]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚ å“¨ä½: å¤§é—¨å²—                                       â”‚
â”‚                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ” æœç´¢äººå‘˜...                              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ å¯ç”¨äººå‘˜åˆ—è¡¨ (ä»AvailablePersonnelsä¸­é€‰æ‹©): â”‚   â”‚
â”‚ â”‚                                               â”‚   â”‚
â”‚ â”‚ â˜ èµµå…­ (æŠ€èƒ½: å®‰ä¿)                         â”‚   â”‚
â”‚ â”‚ â˜ å­™ä¸ƒ (æŠ€èƒ½: ç›‘æ§)                         â”‚   â”‚
â”‚ â”‚ â˜ å‘¨å…« (æŠ€èƒ½: å®‰ä¿)                         â”‚   â”‚
â”‚ â”‚ â˜ å´ä¹ (æŠ€èƒ½: å®‰ä¿, å·¡é€»)                   â”‚   â”‚
â”‚ â”‚ ...                                           â”‚   â”‚
â”‚ â”‚                                               â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚ â˜ ä»…æ˜¾ç¤ºå…·å¤‡æ‰€éœ€æŠ€èƒ½çš„äººå‘˜                        â”‚
â”‚                                                     â”‚
â”‚           [å–æ¶ˆ]              [æ·»åŠ  (ä¸´æ—¶)]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰‹åŠ¨æ·»åŠ äººå‘˜å¯¹è¯æ¡†ï¼ˆä¸å±äºä»»ä½•å“¨ä½ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ‰‹åŠ¨æ·»åŠ å‚ä¸äººå‘˜                              [âœ–]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚ â„¹ ä»æ‰€æœ‰äººå‘˜ä¸­é€‰æ‹©ä¸åœ¨ä»»ä½•å·²é€‰å“¨ä½å¯ç”¨äººå‘˜åˆ—è¡¨   â”‚
â”‚   ä¸­çš„äººå‘˜                                         â”‚
â”‚                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ğŸ” æœç´¢äººå‘˜...                              â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ å¯ç”¨äººå‘˜åˆ—è¡¨ (ä»AvailablePersonnelsä¸­é€‰æ‹©): â”‚   â”‚
â”‚ â”‚                                               â”‚   â”‚
â”‚ â”‚ â˜ éƒ‘å (æŠ€èƒ½: ç®¡ç†)                         â”‚   â”‚
â”‚ â”‚ â˜ é™ˆåä¸€ (æŠ€èƒ½: åå‹¤)                       â”‚   â”‚
â”‚ â”‚ â˜ åˆ˜åäºŒ (æŠ€èƒ½: åŸ¹è®­)                       â”‚   â”‚
â”‚ â”‚ ...                                           â”‚   â”‚
â”‚ â”‚                                               â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚ è¯´æ˜: è¿™äº›äººå‘˜å°†è¢«æ·»åŠ åˆ°å‚ä¸äººå‘˜åˆ—è¡¨ï¼Œä½†ä¸ä¼š      â”‚
â”‚       è¢«æ·»åŠ åˆ°ä»»ä½•å“¨ä½çš„å¯ç”¨äººå‘˜åˆ—è¡¨ä¸­            â”‚
â”‚                                                     â”‚
â”‚           [å–æ¶ˆ]              [æ·»åŠ ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¿å­˜ä¸ºæ°¸ä¹…ç¡®è®¤å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¡®è®¤ä¿å­˜ä¸ºæ°¸ä¹…                            [âœ–]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚ âš  ä»¥ä¸‹æ›´æ”¹å°†æ°¸ä¹…ä¿å­˜åˆ°æ•°æ®åº“:                     â”‚
â”‚                                                     â”‚
â”‚ å“¨ä½: å¤§é—¨å²—                                       â”‚
â”‚ â”œâ”€ æ·»åŠ äººå‘˜: èµµå…­                                 â”‚
â”‚ â””â”€ ç§»é™¤äººå‘˜: å­™ä¸ƒ                                 â”‚
â”‚                                                     â”‚
â”‚ è¿™äº›æ›´æ”¹å°†å½±å“åç»­æ‰€æœ‰æ’ç­ã€‚                      â”‚
â”‚                                                     â”‚
â”‚           [å–æ¶ˆ]              [ç¡®è®¤ä¿å­˜]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç»„ä»¶å’Œæ¥å£

### æ–°å¢ç±»: PositionPersonnelManager

```csharp
/// <summary>
/// å“¨ä½äººå‘˜ç®¡ç†å™¨
/// ç®¡ç†å“¨ä½ä¸äººå‘˜çš„ä¸´æ—¶å…³è”å…³ç³»ï¼Œè·Ÿè¸ªä¸´æ—¶æ€§æ›´æ”¹
/// </summary>
public class PositionPersonnelManager
{
    // åŸå§‹æ•°æ®ï¼ˆä»æ•°æ®åº“åŠ è½½ï¼‰
    private Dictionary<int, List<int>> _originalAvailablePersonnel;
    
    // å½“å‰æ•°æ®ï¼ˆåŒ…å«ä¸´æ—¶æ›´æ”¹ï¼‰
    private Dictionary<int, List<int>> _currentAvailablePersonnel;
    
    // ä¸´æ—¶æ›´æ”¹è®°å½•
    private Dictionary<int, PositionPersonnelChanges> _changes;
    
    /// <summary>
    /// åˆå§‹åŒ–ç®¡ç†å™¨
    /// </summary>
    public void Initialize(IEnumerable<PositionDto> positions);
    
    /// <summary>
    /// è·å–å“¨ä½çš„å½“å‰å¯ç”¨äººå‘˜åˆ—è¡¨ï¼ˆåŒ…å«ä¸´æ—¶æ›´æ”¹ï¼‰
    /// </summary>
    public List<int> GetAvailablePersonnel(int positionId);
    
    /// <summary>
    /// ä¸´æ—¶æ·»åŠ äººå‘˜åˆ°å“¨ä½
    /// </summary>
    public void AddPersonnelTemporarily(int positionId, int personnelId);
    
    /// <summary>
    /// ä¸´æ—¶ç§»é™¤äººå‘˜ä»å“¨ä½
    /// </summary>
    public void RemovePersonnelTemporarily(int positionId, int personnelId);
    
    /// <summary>
    /// è·å–å“¨ä½çš„ä¸´æ—¶æ›´æ”¹
    /// </summary>
    public PositionPersonnelChanges GetChanges(int positionId);
    
    /// <summary>
    /// æ’¤é”€å“¨ä½çš„æ‰€æœ‰ä¸´æ—¶æ›´æ”¹
    /// </summary>
    public void RevertChanges(int positionId);
    
    /// <summary>
    /// æ’¤é”€æ‰€æœ‰å“¨ä½çš„ä¸´æ—¶æ›´æ”¹
    /// </summary>
    public void RevertAllChanges();
    
    /// <summary>
    /// è·å–æ‰€æœ‰æœ‰ä¸´æ—¶æ›´æ”¹çš„å“¨ä½
    /// </summary>
    public List<int> GetPositionsWithChanges();
    
    /// <summary>
    /// æ¸…ç©ºæ‰€æœ‰æ•°æ®
    /// </summary>
    public void Clear();
}

/// <summary>
/// å“¨ä½äººå‘˜æ›´æ”¹è®°å½•
/// </summary>
public class PositionPersonnelChanges
{
    public int PositionId { get; set; }
    public string PositionName { get; set; }
    public List<int> AddedPersonnelIds { get; set; }
    public List<string> AddedPersonnelNames { get; set; }
    public List<int> RemovedPersonnelIds { get; set; }
    public List<string> RemovedPersonnelNames { get; set; }
    public bool HasChanges => AddedPersonnelIds.Any() || RemovedPersonnelIds.Any();
}
```

### æ–°å¢ViewModelå±æ€§

```csharp
// åœ¨ SchedulingViewModel ä¸­æ·»åŠ :

/// <summary>
/// å“¨ä½äººå‘˜ç®¡ç†å™¨
/// </summary>
private readonly PositionPersonnelManager _positionPersonnelManager;

/// <summary>
/// æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜IDåˆ—è¡¨ï¼ˆä¸åœ¨ä»»ä½•å“¨ä½çš„å¯ç”¨äººå‘˜åˆ—è¡¨ä¸­ï¼‰
/// </summary>
[ObservableProperty]
private ObservableCollection<int> _manuallyAddedPersonnelIds = new();

/// <summary>
/// è‡ªåŠ¨æå–çš„äººå‘˜æ•°é‡
/// </summary>
[ObservableProperty]
private int _autoExtractedPersonnelCount;

/// <summary>
/// æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜æ•°é‡
/// </summary>
[ObservableProperty]
private int _manuallyAddedPersonnelCount;

/// <summary>
/// æ˜¯å¦æ­£åœ¨æ·»åŠ äººå‘˜åˆ°å“¨ä½
/// </summary>
[ObservableProperty]
private bool _isAddingPersonnelToPosition;

/// <summary>
/// å½“å‰æ­£åœ¨ç¼–è¾‘çš„å“¨ä½
/// </summary>
[ObservableProperty]
private PositionDto? _currentEditingPosition;

/// <summary>
/// å¯æ·»åŠ åˆ°å½“å‰å“¨ä½çš„äººå‘˜åˆ—è¡¨
/// </summary>
[ObservableProperty]
private ObservableCollection<PersonnelDto> _availablePersonnelForPosition = new();
```

### æ–°å¢å‘½ä»¤

```csharp
// åœ¨ SchedulingViewModel ä¸­æ·»åŠ :

/// <summary>
/// å¼€å§‹ä¸ºå“¨ä½æ·»åŠ äººå‘˜
/// </summary>
public IRelayCommand<PositionDto> StartAddPersonnelToPositionCommand { get; }

/// <summary>
/// æäº¤æ·»åŠ äººå‘˜åˆ°å“¨ä½
/// </summary>
public IAsyncRelayCommand SubmitAddPersonnelToPositionCommand { get; }

/// <summary>
/// å–æ¶ˆæ·»åŠ äººå‘˜åˆ°å“¨ä½
/// </summary>
public IRelayCommand CancelAddPersonnelToPositionCommand { get; }

/// <summary>
/// ä¸´æ—¶ç§»é™¤äººå‘˜ä»å“¨ä½
/// </summary>
public IRelayCommand<(int positionId, int personnelId)> RemovePersonnelFromPositionCommand { get; }

/// <summary>
/// ä¿å­˜å“¨ä½çš„ä¸´æ—¶æ›´æ”¹ä¸ºæ°¸ä¹…
/// </summary>
public IAsyncRelayCommand<int> SavePositionChangesCommand { get; }

/// <summary>
/// æ’¤é”€å“¨ä½çš„ä¸´æ—¶æ›´æ”¹
/// </summary>
public IRelayCommand<int> RevertPositionChangesCommand { get; }

/// <summary>
/// å¼€å§‹æ‰‹åŠ¨æ·»åŠ äººå‘˜ï¼ˆä¸å±äºä»»ä½•å“¨ä½ï¼‰
/// ä»AvailablePersonnelsä¸­é€‰æ‹©ä¸åœ¨ä»»ä½•å·²é€‰å“¨ä½å¯ç”¨äººå‘˜åˆ—è¡¨ä¸­çš„äººå‘˜
/// </summary>
public IRelayCommand StartManualAddPersonnelCommand { get; }

/// <summary>
/// æäº¤æ‰‹åŠ¨æ·»åŠ äººå‘˜
/// </summary>
public IAsyncRelayCommand SubmitManualAddPersonnelCommand { get; }

/// <summary>
/// å–æ¶ˆæ‰‹åŠ¨æ·»åŠ äººå‘˜
/// </summary>
public IRelayCommand CancelManualAddPersonnelCommand { get; }

/// <summary>
/// ç§»é™¤æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜
/// </summary>
public IRelayCommand<int> RemoveManualPersonnelCommand { get; }
```

## äººå‘˜é€‰æ‹©é€»è¾‘

### åœºæ™¯1ï¼šè‡ªåŠ¨æå–çš„äººå‘˜

ä»æ‰€æœ‰å·²é€‰å“¨ä½çš„`AvailablePersonnelIds`ä¸­æå–å”¯ä¸€çš„äººå‘˜IDï¼Œç„¶åä»`AvailablePersonnels`ä¸­è·å–å¯¹åº”çš„äººå‘˜è¯¦ç»†ä¿¡æ¯ã€‚

```csharp
// ä¼ªä»£ç 
var autoExtractedPersonnelIds = SelectedPositions
    .SelectMany(p => p.AvailablePersonnelIds)
    .Distinct()
    .ToList();

var autoExtractedPersonnels = AvailablePersonnels
    .Where(p => autoExtractedPersonnelIds.Contains(p.Id))
    .ToList();
```

**ç‰¹ç‚¹**ï¼š
- è¿™äº›äººå‘˜å·²ç»åœ¨å“¨ä½çš„åŸå§‹å¯ç”¨äººå‘˜åˆ—è¡¨ä¸­
- ä¼šåœ¨å¯¹åº”å“¨ä½çš„å¡ç‰‡ä¸­æ˜¾ç¤º
- æ ‡è®°ä¸º"è‡ªåŠ¨æå–"

### åœºæ™¯2ï¼šä¸ºæŒ‡å®šå“¨ä½ä¸´æ—¶æ·»åŠ äººå‘˜

ç”¨æˆ·åœ¨æŸä¸ªå“¨ä½çš„å¡ç‰‡ä¸­ç‚¹å‡»"æ·»åŠ äººå‘˜"ï¼Œä»`AvailablePersonnels`ä¸­é€‰æ‹©äººå‘˜ä¸´æ—¶æ·»åŠ åˆ°è¯¥å“¨ä½ã€‚

```csharp
// ä¼ªä»£ç 
// ç”¨æˆ·åœ¨"å¤§é—¨å²—"å“¨ä½å¡ç‰‡ä¸­ç‚¹å‡»"æ·»åŠ äººå‘˜"
var positionId = 1; // å¤§é—¨å²—çš„ID

// å¯ä»¥é€‰æ‹©çš„äººå‘˜ï¼šæ‰€æœ‰å¯ç”¨äººå‘˜
var availableToAdd = AvailablePersonnels.ToList();

// ç”¨æˆ·é€‰æ‹©"èµµå…­"å
_positionPersonnelManager.AddPersonnelTemporarily(positionId, personnelId);

// è¯¥äººå‘˜ä¼šè¢«æ·»åŠ åˆ°"å¤§é—¨å²—"çš„å¯ç”¨äººå‘˜åˆ—è¡¨ï¼ˆä¸´æ—¶ï¼‰
// åœ¨æ’ç­ç®—æ³•ä¸­ï¼Œè¯¥äººå‘˜å¯ä»¥è¢«åˆ†é…åˆ°"å¤§é—¨å²—"
```

**ç‰¹ç‚¹**ï¼š
- è¯¥äººå‘˜è¢«ä¸´æ—¶æ·»åŠ åˆ°**æŒ‡å®šå“¨ä½**çš„å¯ç”¨äººå‘˜åˆ—è¡¨
- åªåœ¨è¯¥å“¨ä½çš„å¡ç‰‡ä¸­æ˜¾ç¤º
- æ ‡è®°ä¸º"ä¸´æ—¶æ·»åŠ "ï¼ˆå¸¦â•å›¾æ ‡ï¼‰
- å¯ä»¥é€‰æ‹©"ä¿å­˜ä¸ºæ°¸ä¹…"ï¼Œå°†æ›´æ”¹å†™å…¥æ•°æ®åº“
- åœ¨æ’ç­ç®—æ³•ä¸­ï¼Œè¯¥äººå‘˜**åªèƒ½**è¢«åˆ†é…åˆ°è¯¥å“¨ä½ï¼ˆå¦‚æœç®—æ³•è€ƒè™‘å“¨ä½çš„å¯ç”¨äººå‘˜çº¦æŸï¼‰

### åœºæ™¯3ï¼šæ‰‹åŠ¨æ·»åŠ å‚ä¸äººå‘˜ï¼ˆä¸å±äºä»»ä½•å“¨ä½ï¼‰

ç”¨æˆ·åœ¨"æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜"åŒºåŸŸç‚¹å‡»"ä»æ‰€æœ‰äººå‘˜ä¸­æ·»åŠ "ï¼Œä»`AvailablePersonnels`ä¸­é€‰æ‹©**ä¸åœ¨ä»»ä½•å·²é€‰å“¨ä½å¯ç”¨äººå‘˜åˆ—è¡¨ä¸­**çš„äººå‘˜ã€‚

```csharp
// ä¼ªä»£ç 
var autoExtractedPersonnelIds = SelectedPositions
    .SelectMany(p => _positionPersonnelManager.GetAvailablePersonnel(p.Id))
    .Distinct()
    .ToHashSet();

// å¯ä»¥æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜ï¼šä¸åœ¨ä»»ä½•å“¨ä½å¯ç”¨äººå‘˜åˆ—è¡¨ä¸­çš„äººå‘˜
var availableForManualAdd = AvailablePersonnels
    .Where(p => !autoExtractedPersonnelIds.Contains(p.Id))
    .ToList();

// ç”¨æˆ·é€‰æ‹©"éƒ‘å"å
ManuallyAddedPersonnelIds.Add(personnelId);

// è¯¥äººå‘˜ä¼šè¢«æ·»åŠ åˆ°å‚ä¸äººå‘˜åˆ—è¡¨ï¼Œä½†ä¸å±äºä»»ä½•å“¨ä½
// åœ¨æ’ç­ç®—æ³•ä¸­ï¼Œè¯¥äººå‘˜å¯ä»¥è¢«åˆ†é…åˆ°ä»»ä½•å“¨ä½ï¼ˆå–å†³äºç®—æ³•çš„çº¦æŸï¼‰
```

**ç‰¹ç‚¹**ï¼š
- è¯¥äººå‘˜ä¸å±äºä»»ä½•å“¨ä½çš„å¯ç”¨äººå‘˜åˆ—è¡¨
- åœ¨"æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜"åŒºåŸŸæ˜¾ç¤º
- æ ‡è®°ä¸º"æ‰‹åŠ¨æ·»åŠ "
- **ä¸èƒ½**ä¿å­˜ä¸ºæ°¸ä¹…ï¼ˆå› ä¸ºæ²¡æœ‰å…³è”åˆ°å…·ä½“å“¨ä½ï¼‰
- åœ¨æ’ç­ç®—æ³•ä¸­ï¼Œè¯¥äººå‘˜å¯ä»¥è¢«åˆ†é…åˆ°**ä»»ä½•å“¨ä½**ï¼ˆå¦‚æœç®—æ³•å…è®¸è·¨å“¨ä½åˆ†é…ï¼‰

### æœ€ç»ˆå‚ä¸äººå‘˜åˆ—è¡¨

```csharp
// ä¼ªä»£ç 
// 1. ä»æ‰€æœ‰å“¨ä½æå–äººå‘˜ï¼ˆåŒ…å«ä¸´æ—¶æ·»åŠ çš„ï¼‰
var personnelFromPositions = SelectedPositions
    .SelectMany(p => _positionPersonnelManager.GetAvailablePersonnel(p.Id))
    .Distinct()
    .ToList();

// 2. æ·»åŠ æ‰‹åŠ¨æ·»åŠ çš„äººå‘˜
var finalPersonnelIds = personnelFromPositions
    .Concat(ManuallyAddedPersonnelIds)
    .Distinct()
    .ToList();

// 3. è·å–äººå‘˜è¯¦ç»†ä¿¡æ¯
var finalPersonnelList = AvailablePersonnels
    .Where(p => finalPersonnelIds.Contains(p.Id))
    .ToList();
```

### ä¸‰ç§åœºæ™¯çš„å¯¹æ¯”

| åœºæ™¯ | æ“ä½œä½ç½® | äººå‘˜æ¥æº | å…³è”å“¨ä½ | å¯ä¿å­˜ä¸ºæ°¸ä¹… | æ’ç­ç®—æ³•ä¸­çš„å¯è§æ€§ |
|------|---------|---------|---------|-------------|------------------|
| è‡ªåŠ¨æå– | æ— éœ€æ“ä½œ | å“¨ä½çš„åŸå§‹å¯ç”¨äººå‘˜åˆ—è¡¨ | ç‰¹å®šå“¨ä½ | å·²æ˜¯æ°¸ä¹… | åªå¯¹è¯¥å“¨ä½å¯ç”¨ |
| ä¸ºå“¨ä½ä¸´æ—¶æ·»åŠ  | å“¨ä½å¡ç‰‡ä¸­ | æ‰€æœ‰å¯ç”¨äººå‘˜ | ç‰¹å®šå“¨ä½ | å¯ä»¥ | åªå¯¹è¯¥å“¨ä½å¯ç”¨ |
| æ‰‹åŠ¨æ·»åŠ å‚ä¸äººå‘˜ | æ‰‹åŠ¨æ·»åŠ åŒºåŸŸ | ä¸åœ¨ä»»ä½•å“¨ä½åˆ—è¡¨ä¸­çš„äººå‘˜ | æ—  | ä¸å¯ä»¥ | å¯¹æ‰€æœ‰å“¨ä½å¯ç”¨ |

## æ•°æ®æ¨¡å‹

### ç°æœ‰æ¨¡å‹ï¼ˆä¸ä¿®æ”¹ï¼‰

- `PersonnelDto`: äººå‘˜æ•°æ®ä¼ è¾“å¯¹è±¡
- `PositionDto`: å“¨ä½æ•°æ®ä¼ è¾“å¯¹è±¡
- `Personal`: äººå‘˜æ•°æ®æ¨¡å‹
- `PositionLocation`: å“¨ä½æ•°æ®æ¨¡å‹

### æ–°å¢ViewModelæ¨¡å‹

```csharp
/// <summary>
/// å“¨ä½äººå‘˜è§†å›¾æ¨¡å‹
/// ç”¨äºåœ¨UIä¸­å±•ç¤ºå“¨ä½åŠå…¶å¯ç”¨äººå‘˜
/// </summary>
public class PositionPersonnelViewModel : ObservableObject
{
    public int PositionId { get; set; }
    public string PositionName { get; set; }
    public string Location { get; set; }
    
    /// <summary>
    /// å¯ç”¨äººå‘˜åˆ—è¡¨ï¼ˆåŒ…å«ä¸´æ—¶æ›´æ”¹ï¼‰
    /// </summary>
    public ObservableCollection<PersonnelItemViewModel> AvailablePersonnel { get; set; }
    
    /// <summary>
    /// æ˜¯å¦å±•å¼€
    /// </summary>
    [ObservableProperty]
    private bool _isExpanded = true;
    
    /// <summary>
    /// æ˜¯å¦æœ‰ä¸´æ—¶æ›´æ”¹
    /// </summary>
    [ObservableProperty]
    private bool _hasChanges;
    
    /// <summary>
    /// ä¸´æ—¶æ›´æ”¹æ‘˜è¦
    /// </summary>
    [ObservableProperty]
    private string _changesSummary;
}

/// <summary>
/// äººå‘˜é¡¹è§†å›¾æ¨¡å‹
/// ç”¨äºåœ¨å“¨ä½äººå‘˜åˆ—è¡¨ä¸­å±•ç¤ºå•ä¸ªäººå‘˜
/// </summary>
public class PersonnelItemViewModel : ObservableObject
{
    public int PersonnelId { get; set; }
    public string PersonnelName { get; set; }
    public string SkillsDisplay { get; set; }
    
    /// <summary>
    /// æ˜¯å¦è¢«é€‰ä¸­
    /// </summary>
    [ObservableProperty]
    private bool _isSelected;
    
    /// <summary>
    /// äººå‘˜æ¥æºç±»å‹
    /// </summary>
    [ObservableProperty]
    private PersonnelSourceType _sourceType;
    
    /// <summary>
    /// æ˜¯å¦è¢«å¤šä¸ªå“¨ä½å…±äº«
    /// </summary>
    [ObservableProperty]
    private bool _isShared;
    
    /// <summary>
    /// å…±äº«çš„å“¨ä½æ•°é‡
    /// </summary>
    [ObservableProperty]
    private int _sharedPositionCount;
}

/// <summary>
/// äººå‘˜æ¥æºç±»å‹
/// </summary>
public enum PersonnelSourceType
{
    /// <summary>
    /// è‡ªåŠ¨æå–ï¼ˆä»å“¨ä½çš„åŸå§‹å¯ç”¨äººå‘˜åˆ—è¡¨ï¼‰
    /// </summary>
    AutoExtracted,
    
    /// <summary>
    /// ä¸´æ—¶æ·»åŠ ï¼ˆåœ¨æœ¬æ¬¡æ’ç­ä¸­æ·»åŠ åˆ°å“¨ä½ï¼‰
    /// </summary>
    TemporarilyAdded,
    
    /// <summary>
    /// ä¸´æ—¶ç§»é™¤ï¼ˆåœ¨æœ¬æ¬¡æ’ç­ä¸­ä»å“¨ä½ç§»é™¤ï¼‰
    /// </summary>
    TemporarilyRemoved,
    
    /// <summary>
    /// æ‰‹åŠ¨æ·»åŠ ï¼ˆä¸å±äºä»»ä½•å“¨ä½ï¼Œæ‰‹åŠ¨æ·»åŠ åˆ°å‚ä¸äººå‘˜ï¼‰
    /// </summary>
    ManuallyAdded
}
```

## é”™è¯¯å¤„ç†

### é”™è¯¯åœºæ™¯

1. **ä¿å­˜æ°¸ä¹…æ›´æ”¹å¤±è´¥**
   - åŸå› : æ•°æ®åº“è¿æ¥å¤±è´¥ã€æƒé™ä¸è¶³ã€æ•°æ®éªŒè¯å¤±è´¥
   - å¤„ç†: ä½¿ç”¨DialogService.ShowErrorAsyncæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œä¿ç•™ä¸´æ—¶æ›´æ”¹çŠ¶æ€

2. **åŠ è½½å“¨ä½æ•°æ®å¤±è´¥**
   - åŸå› : æ•°æ®åº“è¿æ¥å¤±è´¥ã€æ•°æ®æŸå
   - å¤„ç†: ä½¿ç”¨DialogService.ShowErrorAsyncæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œç¦ç”¨æ­¥éª¤2çš„åŠŸèƒ½

3. **äººå‘˜IDä¸å­˜åœ¨**
   - åŸå› : å“¨ä½çš„AvailablePersonnelIdsåŒ…å«å·²åˆ é™¤çš„äººå‘˜ID
   - å¤„ç†: è¿‡æ»¤æ‰ä¸å­˜åœ¨çš„äººå‘˜IDï¼Œè®°å½•è­¦å‘Šæ—¥å¿—

4. **å¹¶å‘ä¿®æ”¹å†²çª**
   - åŸå› : å…¶ä»–ç”¨æˆ·åŒæ—¶ä¿®æ”¹äº†å“¨ä½çš„å¯ç”¨äººå‘˜åˆ—è¡¨
   - å¤„ç†: æ˜¾ç¤ºå†²çªæç¤ºï¼Œå»ºè®®ç”¨æˆ·åˆ·æ–°æ•°æ®

### é”™è¯¯å¤„ç†ç­–ç•¥

```csharp
/// <summary>
/// ä¿å­˜å“¨ä½çš„ä¸´æ—¶æ›´æ”¹ä¸ºæ°¸ä¹…
/// </summary>
private async Task SavePositionChangesAsync(int positionId)
{
    try
    {
        var changes = _positionPersonnelManager.GetChanges(positionId);
        if (!changes.HasChanges)
        {
            await _dialogService.ShowWarningAsync("æ²¡æœ‰éœ€è¦ä¿å­˜çš„æ›´æ”¹");
            return;
        }
        
        // æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
        var confirmed = await ShowSaveConfirmationDialog(changes);
        if (!confirmed)
            return;
        
        // è·å–å“¨ä½
        var position = SelectedPositions.FirstOrDefault(p => p.Id == positionId);
        if (position == null)
        {
            await _dialogService.ShowErrorAsync("å“¨ä½ä¸å­˜åœ¨");
            return;
        }
        
        // æ›´æ–°å“¨ä½çš„å¯ç”¨äººå‘˜åˆ—è¡¨
        var updatedPersonnelIds = _positionPersonnelManager.GetAvailablePersonnel(positionId);
        var updateDto = new UpdatePositionDto
        {
            Name = position.Name,
            Location = position.Location,
            Description = position.Description,
            Requirements = position.Requirements,
            RequiredSkillIds = position.RequiredSkillIds,
            AvailablePersonnelIds = updatedPersonnelIds
        };
        
        await _positionService.UpdateAsync(positionId, updateDto);
        
        // æ›´æ–°æœ¬åœ°æ•°æ®
        position.AvailablePersonnelIds = updatedPersonnelIds;
        
        // æ¸…é™¤ä¸´æ—¶æ›´æ”¹æ ‡è®°
        _positionPersonnelManager.Initialize(SelectedPositions);
        
        await _dialogService.ShowSuccessAsync("æ›´æ”¹å·²ä¿å­˜");
    }
    catch (Exception ex)
    {
        System.Diagnostics.Debug.WriteLine($"ä¿å­˜å“¨ä½æ›´æ”¹å¤±è´¥: {ex.Message}");
        await _dialogService.ShowErrorAsync("ä¿å­˜å¤±è´¥", ex);
    }
}
```

## æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•

1. **PositionPersonnelManageræµ‹è¯•**
   - æµ‹è¯•åˆå§‹åŒ–åŠŸèƒ½
   - æµ‹è¯•æ·»åŠ /ç§»é™¤äººå‘˜åŠŸèƒ½
   - æµ‹è¯•æ›´æ”¹è·Ÿè¸ªåŠŸèƒ½
   - æµ‹è¯•æ’¤é”€åŠŸèƒ½

2. **ViewModelæµ‹è¯•**
   - æµ‹è¯•è‡ªåŠ¨æå–äººå‘˜åŠŸèƒ½
   - æµ‹è¯•ä¸´æ—¶æ›´æ”¹åŠŸèƒ½
   - æµ‹è¯•ä¿å­˜ä¸ºæ°¸ä¹…åŠŸèƒ½
   - æµ‹è¯•å‘½ä»¤çš„CanExecuteé€»è¾‘

### é›†æˆæµ‹è¯•

1. **UIäº¤äº’æµ‹è¯•**
   - æµ‹è¯•å±•å¼€/æŠ˜å å“¨ä½
   - æµ‹è¯•æ·»åŠ /ç§»é™¤äººå‘˜
   - æµ‹è¯•ä¿å­˜ä¸ºæ°¸ä¹…
   - æµ‹è¯•æ’¤é”€æ›´æ”¹

2. **æ•°æ®æŒä¹…åŒ–æµ‹è¯•**
   - æµ‹è¯•ä¿å­˜åˆ°æ•°æ®åº“
   - æµ‹è¯•ä»æ•°æ®åº“åŠ è½½
   - æµ‹è¯•å¹¶å‘ä¿®æ”¹å¤„ç†

### æ€§èƒ½æµ‹è¯•

1. **å¤§æ•°æ®é‡æµ‹è¯•**
   - æµ‹è¯•50ä¸ªå“¨ä½çš„æ€§èƒ½
   - æµ‹è¯•100ä¸ªäººå‘˜çš„æ€§èƒ½
   - æµ‹è¯•è™šæ‹ŸåŒ–æ¸²æŸ“

2. **å“åº”æ—¶é—´æµ‹è¯•**
   - æµ‹è¯•äººå‘˜æå–æ—¶é—´
   - æµ‹è¯•UIæ›´æ–°æ—¶é—´
   - æµ‹è¯•ä¿å­˜æ—¶é—´

## å®ç°è®¡åˆ’

### é˜¶æ®µ1: æ ¸å¿ƒåŠŸèƒ½å®ç°

1. åˆ›å»ºPositionPersonnelManagerç±»
2. åœ¨SchedulingViewModelä¸­é›†æˆPositionPersonnelManager
3. å®ç°è‡ªåŠ¨æå–äººå‘˜åŠŸèƒ½
4. å®ç°åŸºæœ¬çš„UIå±•ç¤º

### é˜¶æ®µ2: ä¸´æ—¶æ›´æ”¹åŠŸèƒ½

1. å®ç°ä¸´æ—¶æ·»åŠ äººå‘˜åŠŸèƒ½
2. å®ç°ä¸´æ—¶ç§»é™¤äººå‘˜åŠŸèƒ½
3. å®ç°æ›´æ”¹è·Ÿè¸ªå’Œå±•ç¤º
4. å®ç°æ’¤é”€åŠŸèƒ½

### é˜¶æ®µ3: æ°¸ä¹…ä¿å­˜åŠŸèƒ½

1. å®ç°ä¿å­˜ä¸ºæ°¸ä¹…åŠŸèƒ½
2. å®ç°ç¡®è®¤å¯¹è¯æ¡†
3. å®ç°é”™è¯¯å¤„ç†
4. å®ç°æˆåŠŸæç¤º

### é˜¶æ®µ4: UIä¼˜åŒ–

1. å®ç°å±•å¼€/æŠ˜å åŠŸèƒ½
2. å®ç°å…±äº«äººå‘˜æ ‡è¯†
3. å®ç°è™šæ‹ŸåŒ–æ¸²æŸ“
4. å®ç°æœç´¢å’Œè¿‡æ»¤

### é˜¶æ®µ5: æµ‹è¯•å’Œä¼˜åŒ–

1. ç¼–å†™å•å…ƒæµ‹è¯•
2. è¿›è¡Œé›†æˆæµ‹è¯•
3. è¿›è¡Œæ€§èƒ½æµ‹è¯•
4. ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

## æ–‡ä»¶ç»“æ„

```
ViewModels/Scheduling/
â”œâ”€â”€ SchedulingViewModel.cs (ä¿®æ”¹)
â”œâ”€â”€ PositionPersonnelManager.cs (æ–°å¢)
â”œâ”€â”€ PositionPersonnelViewModel.cs (æ–°å¢)
â””â”€â”€ PersonnelItemViewModel.cs (æ–°å¢)

Views/Scheduling/
â”œâ”€â”€ CreateSchedulingPage.xaml (ä¿®æ”¹)
â””â”€â”€ CreateSchedulingPage.xaml.cs (ä¿®æ”¹)

Controls/ (å¯é€‰ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰æ§ä»¶)
â”œâ”€â”€ PositionPersonnelCard.xaml (æ–°å¢)
â””â”€â”€ PositionPersonnelCard.xaml.cs (æ–°å¢)
```

## ä¾èµ–å…³ç³»

### ç°æœ‰ä¾èµ–ï¼ˆä¿æŒä¸å˜ï¼‰

- IPersonnelService
- IPositionService
- ISchedulingService
- ITemplateService
- ISchedulingDraftService
- DialogService
- NavigationService

### æ–°å¢ä¾èµ–

- PositionPersonnelManagerï¼ˆå†…éƒ¨ç±»ï¼Œä¸éœ€è¦æ³¨å†Œåˆ°DIå®¹å™¨ï¼‰

## å‘åå…¼å®¹æ€§

### æ•°æ®æ¨¡å‹å…¼å®¹æ€§

- ä¸ä¿®æ”¹PersonnelDtoå’ŒPositionDtoçš„ç»“æ„
- ä¸ä¿®æ”¹Personalå’ŒPositionLocationçš„ç»“æ„
- ä¸ä¿®æ”¹æ•°æ®åº“schema

### æœåŠ¡æ¥å£å…¼å®¹æ€§

- ä¸ä¿®æ”¹IPersonnelServiceæ¥å£
- ä¸ä¿®æ”¹IPositionServiceæ¥å£
- ä½¿ç”¨ç°æœ‰çš„UpdateAsyncæ–¹æ³•

### åŠŸèƒ½å…¼å®¹æ€§

- ä¿æŒæ¨¡æ¿åŠ è½½åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- ä¿æŒè‰ç¨¿ä¿å­˜å’Œæ¢å¤åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- ä¿æŒæ‰‹åŠ¨æŒ‡å®šåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- ä¿æŒçº¦æŸé…ç½®åŠŸèƒ½æ­£å¸¸å·¥ä½œ

## æ€§èƒ½è€ƒè™‘

### ä¼˜åŒ–ç­–ç•¥

1. **å»¶è¿ŸåŠ è½½**: åªåœ¨ç”¨æˆ·å±•å¼€å“¨ä½æ—¶åŠ è½½äººå‘˜è¯¦ç»†ä¿¡æ¯
2. **è™šæ‹ŸåŒ–**: ä½¿ç”¨ItemsRepeaterçš„è™šæ‹ŸåŒ–åŠŸèƒ½æ¸²æŸ“å¤§é‡æ•°æ®
3. **ç¼“å­˜**: ç¼“å­˜äººå‘˜å’Œå“¨ä½çš„æŸ¥æ‰¾ç»“æœ
4. **æ‰¹é‡æ“ä½œ**: æ‰¹é‡æ›´æ–°UIï¼Œé¿å…é¢‘ç¹çš„å±æ€§å˜æ›´é€šçŸ¥

### æ€§èƒ½æŒ‡æ ‡

- äººå‘˜æå–æ—¶é—´: < 500ms (50ä¸ªå“¨ä½)
- UIæ›´æ–°æ—¶é—´: < 100ms
- ä¿å­˜æ—¶é—´: < 1s
- å†…å­˜å ç”¨: < 50MB (100ä¸ªå“¨ä½ï¼Œ200ä¸ªäººå‘˜)
